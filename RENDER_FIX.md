# üîß –ë—ã—Å—Ç—Ä–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - Render Environment Variables

## ‚ùå –ß—Ç–æ –Ω–µ —Ç–∞–∫ —Å–µ–π—á–∞—Å:

–£ —Ç–µ–±—è –≤ Render –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `GDRIVE_`, –Ω–æ –∫–æ–¥ –æ–∂–∏–¥–∞–µ—Ç `GOOGLE_`.

**–¢–µ–∫—É—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):**
```
GDRIVE_DATABASE_ID   ‚Üê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
GDRIVE_FOLDER_ID     ‚Üê —á–∞—Å—Ç–∏—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
GDRIVE_KEYFILE       ‚Üê Secret File (–ø—Ä–∞–≤–∏–ª—å–Ω–æ!)
GDRIVE_STATIONS_ID   ‚Üê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
GDRIVE_USERS_ID      ‚Üê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –ê: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –û—Ç–∫—Ä–æ–π Render ‚Üí Environment

**1. –£–¥–∞–ª–∏ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ:**
- ‚ùå GDRIVE_DATABASE_ID (—É–¥–∞–ª–∏—Ç—å)
- ‚ùå GDRIVE_STATIONS_ID (—É–¥–∞–ª–∏—Ç—å)
- ‚ùå GDRIVE_USERS_ID (—É–¥–∞–ª–∏—Ç—å)

**2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ:**

–ù–µ–ª—å–∑—è –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é, –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏ —Å–æ–∑–¥–∞—Ç—å –∑–∞–Ω–æ–≤–æ:

**–®–∞–≥ 1:** –°–∫–æ–ø–∏—Ä—É–π –∑–Ω–∞—á–µ–Ω–∏–µ `GDRIVE_FOLDER_ID`:
```
11FtvQnpyzt6vHf_iPQ3VlWzR0SDILBGE
```

**–®–∞–≥ 2:** –£–¥–∞–ª–∏ `GDRIVE_FOLDER_ID`

**–®–∞–≥ 3:** –°–æ–∑–¥–∞–π –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é:
```
Key: GOOGLE_DRIVE_FOLDER_ID
Value: 11FtvQnpyzt6vHf_iPQ3VlWzR0SDILBGE
```

**3. Secret File –æ—Å—Ç–∞–≤—å –∫–∞–∫ –µ—Å—Ç—å:**
```
Filename: fuel-tracker-backup-561e9aa606a7.json
Path: /etc/secrets/fuel-tracker-backup-561e9aa606a7.json
```
–≠—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ! ‚úÖ

**4. –î–æ–±–∞–≤—å –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —á—Ç–µ–Ω–∏—è Secret File:**

```
Key: GDRIVE_KEYFILE
Value: /etc/secrets/fuel-tracker-backup-561e9aa606a7.json
```

–≠—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è —É–∂–µ –µ—Å—Ç—å! –ü—Ä–æ—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ = –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ –ë: –ö–æ–¥ —É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω (–∏—Å–ø–æ–ª—å–∑—É–π –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤)

–Ø –æ–±–Ω–æ–≤–∏–ª `google-drive-backup.js` —á—Ç–æ–±—ã –æ–Ω –ø–æ–Ω–∏–º–∞–ª –û–ë–ê –≤–∞—Ä–∏–∞–Ω—Ç–∞:
- ‚úÖ `GOOGLE_DRIVE_FOLDER_ID` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –∏–º—è)
- ‚úÖ `GDRIVE_FOLDER_ID` (—Ç–≤–æ—ë —Ç–µ–∫—É—â–µ–µ –∏–º—è)

–ò –¥–ª—è credentials:
- ‚úÖ `GOOGLE_CREDENTIALS` (–ø—Ä—è–º–æ–π JSON)
- ‚úÖ `GDRIVE_KEYFILE` (–ø—É—Ç—å –∫ Secret File) ‚Üê —Ç–≤–æ–π –≤–∞—Ä–∏–∞–Ω—Ç

---

## üéØ –ò—Ç–æ–≥–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Render Environment:

### Environment Variables:

```
PORT = 3000
TELEGRAM_TOKEN = [—Ç–≤–æ–π —Ç–æ–∫–µ–Ω]
ADMIN_CHAT_ID = 910176803
GOOGLE_DRIVE_FOLDER_ID = 11FtvQnpyzt6vHf_iPQ3VlWzR0SDILBGE
GDRIVE_KEYFILE = /etc/secrets/fuel-tracker-backup-561e9aa606a7.json
```

### Secret Files:

```
Filename: fuel-tracker-backup-561e9aa606a7.json
Contents: [JSON —Å credentials]
```

---

## üöÄ –î–µ–ø–ª–æ–π –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏:

```bash
# 1. –°–∫–∞—á–∞–π –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤
tar -xzf fuel-tracker-with-backups.tar.gz

# 2. –ó–∞–º–µ–Ω–∏ google-drive-backup.js
cp fuel-tracker/google-drive-backup.js /—Ç–≤–æ–π/–ø—Ä–æ–µ–∫—Ç/

# 3. –ö–æ–º–º–∏—Ç –∏ push
git add google-drive-backup.js
git commit -m "Fix Google Drive environment variable names"
git push
```

Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

### 1. –°–º–æ—Ç—Ä–∏ –ª–æ–≥–∏ –Ω–∞ Render:

**–î–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
‚úÖ Google Drive –ø–æ–¥–∫–ª—é—á—ë–Ω —É—Å–ø–µ—à–Ω–æ
üìÅ –ü–∞–ø–∫–∞ –¥–ª—è –±—ç–∫–∞–ø–æ–≤: 11FtvQnpyzt6vHf_iPQ3VlWzR0SDILBGE
üîÑ –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –±—ç–∫–∞–ø–∞ (–∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞)
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
‚ùå Google Drive credentials –Ω–µ –Ω–∞–π–¥–µ–Ω—ã
‚ùå Folder ID –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
```

### 2. –¢–µ—Å—Ç –≤ Telegram:

```
/backup

–î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å:
üîÑ –ù–∞—á–∏–Ω–∞—é —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Google Drive...
‚úÖ –ë—ç–∫–∞–ø —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à—ë–Ω!
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—à—å:**
```
‚ùå –£ –≤–∞—Å –Ω–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã
```

‚Üí –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ `ADMIN_CHAT_ID = 910176803` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ Render

---

## üêõ –ï—Å–ª–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –ü—Ä–æ–≤–µ—Ä—å Secret File:

1. Render ‚Üí Settings ‚Üí Secret Files
2. –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Ñ–∞–π–ª `fuel-tracker-backup-561e9aa606a7.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ù–∞–∂–º–∏ –Ω–∞ –Ω–µ–≥–æ ‚Üí –ø—Ä–æ–≤–µ—Ä—å —á—Ç–æ JSON –≤–∞–ª–∏–¥–Ω—ã–π (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `{` –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è `}`)

### –ü—Ä–æ–≤–µ—Ä—å –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É:

–í –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `GDRIVE_KEYFILE` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å **–ü–û–õ–ù–´–ô –ø—É—Ç—å**:
```
‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: /etc/secrets/fuel-tracker-backup-561e9aa606a7.json
‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ: fuel-tracker-backup-561e9aa606a7.json
```

### –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –ø–æ–¥—Ä–æ–±–Ω–µ–µ:

Render ‚Üí Logs ‚Üí –∏—â–∏ —Å—Ç—Ä–æ–∫–∏ —Å "Google Drive":

```bash
# –£—Å–ø–µ—Ö:
‚úÖ Google Drive –ø–æ–¥–∫–ª—é—á—ë–Ω —É—Å–ø–µ—à–Ω–æ

# –û—à–∏–±–∫–∞ credentials:
‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Google Drive: Unexpected token...
‚Üí JSON –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π –≤ Secret File

# –û—à–∏–±–∫–∞ –ø—Ä–∞–≤:
‚ùå Permission denied
‚Üí Service Account –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ –ø–∞–ø–∫—É Drive
```

---

## üìù –ö—Ä–∞—Ç–∫–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (TL;DR):

```bash
# 1. –í Render ‚Üí Environment:
#    –ü–µ—Ä–µ–∏–º–µ–Ω—É–π GDRIVE_FOLDER_ID ‚Üí GOOGLE_DRIVE_FOLDER_ID
#    (–∏–ª–∏ –æ—Å—Ç–∞–≤—å GDRIVE_FOLDER_ID, –Ω–æ–≤—ã–π –∫–æ–¥ –ø–æ–Ω–∏–º–∞–µ—Ç –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞)

# 2. –°–∫–∞—á–∞–π –Ω–æ–≤—ã–π –∞—Ä—Ö–∏–≤ –∏ –∑–∞–º–µ–Ω–∏ google-drive-backup.js

# 3. Git push

# 4. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ ‚Üí –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å "‚úÖ Google Drive –ø–æ–¥–∫–ª—é—á—ë–Ω"

# 5. Telegram ‚Üí /backup ‚Üí —Ç–µ—Å—Ç
```

---

## üí° –ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–ª–∞ –ø—É—Ç–∞–Ω–∏—Ü–∞:

Render –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤:

**1. Environment Variables** - –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π:
```
GOOGLE_DRIVE_FOLDER_ID = 11FtvQ...
```

**2. Secret Files** - –¥–ª—è –±–æ–ª—å—à–∏—Ö JSON/–∫–ª—é—á–µ–π:
```
filename: fuel-tracker-backup-*.json
path: /etc/secrets/...
```

–¢—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª Secret File –¥–ª—è JSON –∫–ª—é—á–∞! ‚úÖ

–ü—Ä–æ—Å—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `GDRIVE_KEYFILE` —Å –ø—É—Ç—ë–º –∫ —ç—Ç–æ–º—É —Ñ–∞–π–ª—É.

---

## ‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –ü—Ä–æ—á–∏—Ç–∞–µ—Ç JSON –∏–∑ `/etc/secrets/fuel-tracker-backup-*.json`
- ‚úÖ –ü–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ Google Drive
- ‚úÖ –°–¥–µ–ª–∞–µ—Ç –ø–µ—Ä–≤—ã–π –±—ç–∫–∞–ø —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç
- ‚úÖ –ó–∞—Ç–µ–º –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞

–ö–æ–º–∞–Ω–¥—ã `/backup`, `/restore`, `/backupinfo` –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç!

Good luck! üöÄ
